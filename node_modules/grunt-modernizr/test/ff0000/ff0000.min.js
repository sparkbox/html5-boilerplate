(function(){var a=!1,b=/xyz/.test(function(){var a})?/\bsup\b/:/.*/;this.Class=function(){},Class.extend=function c(d,e){function m(b){this.vars=$.extend(!0,{},this.vars,b),!a&&this.init&&this.init.apply(this,arguments)}var f=this.prototype,g=this,h,i,j,k,l;a=!0,h=new g,a=!1;for(i in d)d.hasOwnProperty(i)&&(l=d[i],h[i]=typeof l=="function"&&typeof f[i]=="function"&&b.test(l)?function(a,b){return function(){return j=this.sup,this.sup=f[a],k=b.apply(this,arguments),this.sup=j,k}}(i,l):l);return h.vars=$.extend(!0,{},this.prototype.vars,h.vars),m.prototype=h,m.constructor=m,m.extend=c,typeof e=="object"&&$.extend(m,e),m}})();var red=window.red||{};$.extend(!0,red,{Class:Class.extend({vars:{subs:{}},init:function(a,b){},getUniqueId:function(){var a=this.namespace||"";return[a,Math.floor(Math.random()*9999999)].join("/")},scopeNotification:function(a){return this.uid=this.uid||this.getUniqueId(),a+"."+this.uid},publish:function(a,b){return $.publish(a,b)},subscribe:function(a,b){return a=this.scopeNotification(a),this.vars.subs[a]=this.vars.subs[a]||[],this.vars.subs[a].push(b),$.subscribe(a,b)},unsubscribe:function(a,b){var c,d,e,f;if(!a&&!b){for(d in this.vars.subs)if(this.vars.subs.hasOwnProperty(d)){for(e=0,f=this.vars.subs[d].length;e<f;e++)$.unsubscribe(d,this.vars.subs[d][e]);this.vars.subs[d]=null}delete this.vars.subs}else if(a){a=this.scopeNotification(a),c=this.vars.subs[a];if(c)for(e=0,f=c.length;e<f;e++)if(!b||c[e]===b)c[e]=null;return $.unsubscribe(a,b)}},preventDefault:function(a){a.preventDefault()},proxy:function(a){return $.proxy(a,this)},wait:function(a){var b=this;return $.Deferred(function(c){window.setTimeout(function(){c.resolveWith(b)},a)})},setTimeout:function(a,b){return window.setTimeout(this.proxy(a),b)},destroy:function(){this.unsubscribe()}})});var red=red||{};red.module=red.module||{},red.Module=function(){return red.Class.extend({vars:{events:{}},bind:function(a,b){this.vars.events["on"+a]=this.vars.events["on"+a]||[],this.vars.events["on"+a].push(b)},unbind:function(a,b){var c,d,e,f;if(!a&&!b){for(d in this.vars.events)this.vars.events.hasOwnProperty(d)&&(this.vars.events[d]=null);delete this.vars.events}else{c=this.vars.events["on"+a];if(c)for(e=0,f=c.length;e<f;e++)if(!b||c[e]===b)c[e]=null}},trigger:function(a,b){if(!this.vars.events)return;var c=this.vars.events["on"+a],d,e,f;if(c&&c.length){Object.prototype.toString.call(b)!=="[object Array]"&&(b=[b]),b[0]&&(b[0].type=b[0].type||a);for(d=0,e=c.length;d<e;d++)f=c[d],f&&f.apply(this,b||[{type:a}])}},destroy:function(){this.unbind();for(var a in this)this.hasOwnProperty(a)&&delete this[a]}})}.call(red);var red=red||{};red.module=red.module||{},red.module.tracking=red.module.tracking||{};var _gaq=_gaq||[];(function(){red.module.tracking.GA=function(){return red.Module.extend({vars:{debug:!0,property_id:"",domain:""},init:function(){this.loadJSDK(),this.subscribe("track",this.proxy(this.track,this))},log:function(){if(this.vars.debug)try{console.log(arguments)}catch(a){}},track:function(a,b){var c=$(a.currentTarget),d=b||c.data();d.type=d.type||"event",this.log("ga track",d.type,d);switch(d.type){case"event":_gaq.push(["_trackEvent",d.category,d.action,d.label,d.value]);break;case"social":console.log("Tracking: GA social (not hooked up yet)::",d);break;default:case"page":_gaq.push(["_trackPageview",d.url||window.location.hash])}},loadJSDK:function(){var a=window._gaq=window._gaq||[];this.vars.property_id=this.vars.property_id||$('meta[property="ga:property_id"]').attr("content"),this.vars.domain=this.vars.domain||$('meta[property="ga:domain"]').attr("content");if(!this.vars.property_id)throw'tracking:GA missing PROPERTY_ID <meta property="ga:property_id" content="UA-XXXXXX-X"/>';if(!this.vars.domain)throw'tracking:GA missing DOMAIN  <meta property="ga:domain" content="xxxxx.com"/>';this.log("ga.tracking:: "+this.vars.property_id),a.push(["_setAccount",this.vars.property_id]),a.push(["_setDomainName",this.vars.domain]),a.push(["_setAllowLinker",!0]),a.push(["_trackPageview"]),a.push(["_trackPageLoadTime"]),Modernizr.load({load:("https:"===location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js"})},destroy:function(){this.unsubscribe("track",this.proxy(this.track,this)),this.vars=null}})}.call(red.module.tracking)})();var Scroller;(function(){Scroller=function(a,b){this.__callback=a,this.options={scrollingX:!0,scrollingY:!0,animating:!0,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3};for(var c in b)this.options[c]=b[c]};var a=function(a){return Math.pow(a-1,3)+1},b=function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},c={__isSingleTouch:!1,__isTracking:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__defaultAnimDuration:250,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(a,b,c,d){var e=this;a&&(e.__clientWidth=a),b&&(e.__clientHeight=b),c&&(e.__contentWidth=c),d&&(e.__contentHeight=d),e.__computeScrollMax(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.__defaultAnimDuration)},setPosition:function(a,b){var c=this;c.__clientLeft=a||0,c.__clientTop=b||0},setSnapSize:function(a,b){var c=this;c.__snapWidth=a,c.__snapHeight=b},activatePullToRefresh:function(a,b,c,d){var e=this;e.__refreshHeight=a,e.__refreshActivate=b,e.__refreshDeactivate=c,e.__refreshStart=d},finishPullToRefresh:function(){var a=this;a.__refreshActive=!1,a.__refreshDeactivate&&a.__refreshDeactivate(),a.scrollTo(a.__scrollLeft,a.__scrollTop,a.__defaultAnimDuration)},getValues:function(){var a=this;return{left:a.__scrollLeft,top:a.__scrollTop,zoom:a.__zoomLevel}},getScrollMax:function(){var a=this;return{left:a.__maxScrollLeft,top:a.__maxScrollTop}},zoomTo:function(a,b,c,d){var e=this;if(!e.options.zooming)throw Error("Zooming is not enabled!");e.__isDecelerating&&(Scroller.effect.Animate.stop(e.__isDecelerating),e.__isDecelerating=!1);var f=e.__zoomLevel;c||(c=e.__clientWidth/2),d||(d=e.__clientHeight/2),a=Math.max(Math.min(a,e.options.maxZoom),e.options.minZoom),e.__computeScrollMax(a);var g=(c+e.__scrollLeft)*a/f-c,h=(d+e.__scrollTop)*a/f-d;g>e.__maxScrollLeft?g=e.__maxScrollLeft:g<0&&(g=0),h>e.__maxScrollTop?h=e.__maxScrollTop:h<0&&(h=0),e.__publish(g,h,a,b)},zoomBy:function(a,b,c,d){var e=this;e.zoomTo(e.__zoomLevel*a,b,c,d)},scrollTo:function(a,b,c,d){var e=this;e.__isDecelerating&&(Scroller.effect.Animate.stop(e.__isDecelerating),e.__isDecelerating=!1);if(d&&d!==e.__zoomLevel){if(!e.options.zooming)throw Error("Zooming is not enabled!");a*=d,b*=d,e.__computeScrollMax(d)}else d=e.__zoomLevel;e.options.scrollingX?e.options.paging?a=Math.round(a/e.__clientWidth)*e.__clientWidth:e.options.snapping&&(a=Math.round(a/e.__snapWidth)*e.__snapWidth):a=e.__scrollLeft,e.options.scrollingY?e.options.paging?b=Math.round(b/e.__clientHeight)*e.__clientHeight:e.options.snapping&&(b=Math.round(b/e.__snapHeight)*e.__snapHeight):b=e.__scrollTop,a=Math.max(Math.min(e.__maxScrollLeft,a),0),b=Math.max(Math.min(e.__maxScrollTop,b),0),a===e.__scrollLeft&&b===e.__scrollTop&&(c=!1),e.__publish(a,b,d,c)},scrollBy:function(a,b,c){var d=this,e=d.__isAnimating?d.__scheduledLeft:d.__scrollLeft,f=d.__isAnimating?d.__scheduledTop:d.__scrollTop;d.scrollTo(e+(a||0),f+(b||0),c)},doMouseZoom:function(a,b,c,d){var e=this,f=a>0?.97:1.03;return e.zoomTo(e.__zoomLevel*f,!1,c-e.__clientLeft,d-e.__clientTop)},doTouchStart:function(a,b){if(!a.length)throw Error("Invalid touch list: "+a);b instanceof Date&&(b=b.valueOf());if(typeof b!="number")throw Error("Invalid timestamp value: "+b);var c=this;c.__isDecelerating&&(Scroller.effect.Animate.stop(c.__isDecelerating),c.__isDecelerating=!1),c.__isAnimating&&(Scroller.effect.Animate.stop(c.__isAnimating),c.__isAnimating=!1);var d,e,f=a.length===1;f?(d=a[0].pageX,e=a[0].pageY):(d=Math.abs(a[0].pageX+a[1].pageX)/2,e=Math.abs(a[0].pageY+a[1].pageY)/2),c.__initialTouchLeft=d,c.__initialTouchTop=e,c.__zoomLevelStart=c.__zoomLevel,c.__lastTouchLeft=d,c.__lastTouchTop=e,c.__lastTouchMove=b,c.__lastScale=1,c.__enableScrollX=!f&&c.options.scrollingX,c.__enableScrollY=!f&&c.options.scrollingY,c.__isTracking=!0,c.__isDragging=!f,c.__isSingleTouch=f,c.__positions=[]},doTouchMove:function(a,b,c){if(!a.length)throw Error("Invalid touch list: "+a);b instanceof Date&&(b=b.valueOf());if(typeof b!="number")throw Error("Invalid timestamp value: "+b);var d=this;if(!d.__isTracking)return;var e,f;a.length===2?(e=Math.abs(a[0].pageX+a[1].pageX)/2,f=Math.abs(a[0].pageY+a[1].pageY)/2):(e=a[0].pageX,f=a[0].pageY);var g=d.__positions;if(d.__isDragging){var h=e-d.__lastTouchLeft,i=f-d.__lastTouchTop,j=d.__scrollLeft,k=d.__scrollTop,l=d.__zoomLevel;if(c&&d.options.zooming){var m=l;l=l/d.__lastScale*c,l=Math.max(Math.min(l,d.options.maxZoom),d.options.minZoom);if(m!==l){var n=e-d.__clientLeft,o=f-d.__clientTop;j=(n+j)*l/m-n,k=(o+k)*l/m-o,d.__computeScrollMax(l)}}if(d.__enableScrollX){j-=h;var p=d.__maxScrollLeft;if(j>p||j<0)d.options.bouncing?j+=h/2:j>p?j=p:j=0}if(d.__enableScrollY){k-=i;var q=d.__maxScrollTop;if(k>q||k<0)d.options.bouncing?(k+=i/2,!d.__enableScrollX&&d.__refreshHeight&&(!d.__refreshActive&&k<=-d.__refreshHeight?(d.__refreshActive=!0,d.__refreshActivate&&d.__refreshActivate()):d.__refreshActive&&k>-d.__refreshHeight&&(d.__refreshActive=!1,d.__refreshDeactivate&&d.__refreshDeactivate()))):k>q?k=q:k=0}g.length>60&&g.splice(0,30),g.push(j,k,b),d.__publish(j,k,l)}else{var r=d.options.locking?3:0,s=5,t=Math.abs(e-d.__initialTouchLeft),u=Math.abs(f-d.__initialTouchTop);d.__enableScrollX=d.options.scrollingX&&t>=r,d.__enableScrollY=d.options.scrollingY&&u>=r,g.push(d.__scrollLeft,d.__scrollTop,b),d.__isDragging=(d.__enableScrollX||d.__enableScrollY)&&(t>=s||u>=s)}d.__lastTouchLeft=e,d.__lastTouchTop=f,d.__lastTouchMove=b,d.__lastScale=c},doTouchEnd:function(a){a instanceof Date&&(a=a.valueOf());if(typeof a!="number")throw Error("Invalid timestamp value: "+a);var b=this;if(!b.__isTracking)return;b.__isTracking=!1;if(b.__isDragging){b.__isDragging=!1;if(b.__isSingleTouch&&b.options.animating&&a-b.__lastTouchMove<=100){var c=b.__positions,d=c.length-1,e=d;for(var f=d;f>0&&c[f]>b.__lastTouchMove-100;f-=3)e=f;if(e!==d){var g=c[d]-c[e],h=b.__scrollLeft-c[e-2],i=b.__scrollTop-c[e-1];b.__decelerationVelocityX=h/g*(1e3/60),b.__decelerationVelocityY=i/g*(1e3/60);var j=b.options.paging||b.options.snapping?4:1;if(Math.abs(b.__decelerationVelocityX)>j||Math.abs(b.__decelerationVelocityY)>j)b.__refreshActive||b.__startDeceleration(a)}}}b.__isDecelerating||(b.__refreshActive&&b.__refreshStart?(b.__publish(b.__scrollLeft,-b.__refreshHeight,b.__zoomLevel,b.__defaultAnimDuration),b.__refreshStart&&b.__refreshStart()):(b.scrollTo(b.__scrollLeft,b.__scrollTop,b.__defaultAnimDuration,b.__zoomLevel),b.__refreshActive&&(b.__refreshActive=!1,b.__refreshDeactivate&&b.__refreshDeactivate()))),b.__positions.length=0},__publish:function(c,d,e,f){var g=this,h=g.__isAnimating;h&&(Scroller.effect.Animate.stop(h),g.__isAnimating=!1);if(f&&g.options.animating){g.__scheduledLeft=c,g.__scheduledTop=d,g.__scheduledZoom=e;var i=g.__scrollLeft,j=g.__scrollTop,k=g.__zoomLevel,l=c-i,m=d-j,n=e-k,o=function(a,b,c){c&&(g.__scrollLeft=i+l*a,g.__scrollTop=j+m*a,g.__zoomLevel=k+n*a,g.__callback&&g.__callback(g.__scrollLeft,g.__scrollTop,g.__zoomLevel))},p=function(a){return g.__isAnimating===a},q=function(a,b,c){b===g.__isAnimating&&(g.__isAnimating=!1),g.options.zooming&&g.__computeScrollMax()};g.__isAnimating=Scroller.effect.Animate.start(o,p,q,f,h?a:b)}else g.__scheduledLeft=g.__scrollLeft=c,g.__scheduledTop=g.__scrollTop=d,g.__scheduledZoom=g.__zoomLevel=e,g.__callback&&g.__callback(c,d,e),g.options.zooming&&g.__computeScrollMax()},__computeScrollMax:function(a){var b=this;a||(a=b.__zoomLevel),b.__maxScrollLeft=Math.max(b.__contentWidth*a-b.__clientWidth,0),b.__maxScrollTop=Math.max(b.__contentHeight*a-b.__clientHeight,0)},__startDeceleration:function(a){var b=this;if(b.options.paging){var c=Math.max(Math.min(b.__scrollLeft,b.__maxScrollLeft),0),d=Math.max(Math.min(b.__scrollTop,b.__maxScrollTop),0),e=b.__clientWidth,f=b.__clientHeight;b.__minDecelerationScrollLeft=Math.floor(c/e)*e,b.__minDecelerationScrollTop=Math.floor(d/f)*f,b.__maxDecelerationScrollLeft=Math.ceil(c/e)*e,b.__maxDecelerationScrollTop=Math.ceil(d/f)*f}else b.__minDecelerationScrollLeft=0,b.__minDecelerationScrollTop=0,b.__maxDecelerationScrollLeft=b.__maxScrollLeft,b.__maxDecelerationScrollTop=b.__maxScrollTop;var g=function(a,c,d){b.__stepThroughDeceleration(d)},h=b.options.snapping?4:.1,i=function(){return Math.abs(b.__decelerationVelocityX)>=h||Math.abs(b.__decelerationVelocityY)>=h},j=function(a,c,d){b.__isDecelerating=!1,b.scrollTo(b.__scrollLeft,b.__scrollTop,b.options.snapping?b.__defaultAnimDuration:!1)};b.__isDecelerating=Scroller.effect.Animate.start(g,i,j)},__stepThroughDeceleration:function(a){var b=this,c=b.__scrollLeft+b.__decelerationVelocityX,d=b.__scrollTop+b.__decelerationVelocityY;if(!b.options.bouncing){var e=Math.max(Math.min(b.__maxScrollLeft,c),0);e!==c&&(c=e,b.__decelerationVelocityX=0);var f=Math.max(Math.min(b.__maxScrollTop,d),0);f!==d&&(d=f,b.__decelerationVelocityY=0)}a?b.__publish(c,d,b.__zoomLevel):(b.__scrollLeft=c,b.__scrollTop=d);if(!b.options.paging){var g=.95;b.__decelerationVelocityX*=g,b.__decelerationVelocityY*=g}if(b.options.bouncing){var h=0,i=0,j=.03,k=.08;c<b.__minDecelerationScrollLeft?h=b.__minDecelerationScrollLeft-c:c>b.__maxDecelerationScrollLeft&&(h=b.__maxDecelerationScrollLeft-c),d<b.__minDecelerationScrollTop?i=b.__minDecelerationScrollTop-d:d>b.__maxDecelerationScrollTop&&(i=b.__maxDecelerationScrollTop-d),h!==0&&(h*b.__decelerationVelocityX>0?b.__decelerationVelocityX=h*k:b.__decelerationVelocityX+=h*j),i!==0&&(i*b.__decelerationVelocityY>0?b.__decelerationVelocityY=i*k:b.__decelerationVelocityY+=i*j)}}};for(var d in c)Scroller.prototype[d]=c[d]})();(function(a){if(a.requestAnimationFrame)return;var b=Date.now||function(){return(new Date).getTime()},c=Object.keys||function(a){var b={};for(var c in a)b[c]=!0;return b},d=Object.empty||function(a){for(var b in a)return!1;return!0},e=60,f={},g=1,h=null;a.requestAnimationFrame=function(a,d){var i=g++;return f[i]=a,h===null&&(h=setTimeout(function(){var a=b(),d=f,e=c(d);f={},h=null;for(var g=0,i=e.length;g<i;g++)d[e[g]](a)},1e3/e)),i},a.cancelRequestAnimationFrame=function(a){delete f[a],d(f)&&(clearTimeout(h),h=null)}})(Scroller);(function(a){var b=Date.now||function(){return+(new Date)},c=60,d=1e3,e={},f=1;a.effect||(a.effect={}),a.effect.Animate={stop:function(a){var b=e[a]!==null;return b&&(e[a]=null),b},isRunning:function(a){return e[a]!==null},start:function(g,h,i,j,k,l){var m=b(),n=m,o=0,p=0,q=f++;l||(l=document.body);if(q%20===0){var r={};for(var s in e)r[s]=!0;e=r}var t=function(f){var r=f!==!0,s=b();if(!e[q]||h&&!h(q)){e[q]=null,i&&i(c-p/((s-m)/d),q,!1);return}if(r){var u=Math.round((s-n)/(d/c))-1;for(var v=0;v<Math.min(u,4);v++)t(!0),p++}j&&(o=(s-m)/j,o>1&&(o=1));var w=k?k(o):o;g(w,s,r)!==!1&&o!==1||!r?r&&(n=s,a.requestAnimationFrame(t,l)):(e[q]=null,i&&i(c-p/((s-m)/d),q,o===1||j===null))};return e[q]=!0,a.requestAnimationFrame(t,l),q}}})(Scroller);var red=red||{};red.module=red.module||{},red.module.Scroller=function(){return red.Module.extend({vars:{},init:function(a){this.setDOMReferences(),this.setupScroller()},setDOMReferences:function(){this.vars.target=this.vars.target[0]||this.vars.target,this.vars.doc=$(document)},renderingEngine:function(a){var b=document.documentElement.style,c,d,e,f=document.createElement("div"),g,h,i,j,k,l=this;return"opera"in window&&Object.prototype.toString.call(opera)==="[object Opera]"?c="presto":"MozAppearance"in b?c="gecko":"WebkitAppearance"in b?c="webkit":typeof navigator.cpuClass=="string"&&(c="trident"),d={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[c],g=d+"Perspective",h=d+"Transform",f.style[g]!==e?function(b,c,d){if(b===i&&c===j&&d===k)return;a.style[h]="translate3d("+ -b+"px,"+ -c+"px, 0) scale("+d+")",l.trigger("touchinertia",{type:"touchinertia",translateX:b,translateY:c,zoom:d}),i=b,j=c,k=d}:f.style[h]!==e?function(b,c,d){if(b===i&&c===j&&d===k)return;a.style[h]="translate("+ -b+"px,"+ -c+"px) scale("+d+")",l.trigger("touchinertia",{translateX:b,translateY:c,zoom:d}),i=b,j=c,k=d}:function(b,c,d){if(b===i&&c===j&&d===k)return;a.style.marginLeft=b?-b/d+"px":"",a.style.marginTop=c?-c/d+"px":"",a.style.zoom=d||"",l.trigger("touchinertia",{translateX:b,translateY:c,zoom:d}),i=b,j=c,k=d}},setupScroller:function(){var a=this.vars.target.getElementsByTagName("*")[0],b,c;b=new Scroller(this.renderingEngine(a),this.vars);for(c in b)!/^__/.test(c)&&typeof b[c]=="function"&&this.extendProp(c,b);this.vars.scroller=b,this.update(),this.setupEvents()},update:function(){var a=this.vars.target,b=a.getElementsByTagName("*")[0],c=this.vars.scroller,d=a.getBoundingClientRect();c.setPosition(d.left+a.clientLeft,d.top+a.clientTop),c.setDimensions(a.clientWidth,a.clientHeight,b.offsetWidth,b.offsetHeight)},extendProp:function(a,b){this[a]=function(){return b[a].apply(b,arguments)}},setOption:function(a,b){this.vars.scroller.options[a]=b},onTouchStart:function(a){var b=a.originalEvent;if(b.target.tagName.match(/input|textarea|select/i))return;this.vars.scroller.doTouchStart(b.touches,b.timeStamp),this.trigger(a.type,a),a.preventDefault()},onTouchMove:function(a){var b=a.originalEvent;this.vars.scroller.doTouchMove(b.touches,b.timeStamp,b.scale),this.trigger(a.type,b)},onTouchEnd:function(a){var b=a.originalEvent;this.vars.scroller.doTouchEnd(b.timeStamp),this.trigger(a.type,b)},onMouseDown:function(a){var b=a.originalEvent;if(b.target.tagName.match(/input|textarea|select/i))return;this.vars.scroller.doTouchStart([{pageX:a.pageX,pageY:a.pageY}],a.timeStamp),this.trigger("touchstart",a),this.vars.mousedown=!0},onMouseMove:function(a){if(!this.vars.mousedown)return;this.vars.scroller.doTouchMove([{pageX:a.pageX,pageY:a.pageY}],a.timeStamp),this.trigger("touchmove",a),this.vars.mousedown=!0},onMouseUp:function(a){if(!this.vars.mousedown)return;this.vars.scroller.doTouchEnd(a.timeStamp),this.trigger("touchend",a),this.vars.mousedown=!1},setupEvents:function(){var a=$(this.vars.target),b=this.vars.doc;"ontouchstart"in window?(a.on("touchstart",this.proxy(this.onTouchStart)),b.on("touchmove",this.proxy(this.onTouchMove)),b.on("touchend",this.proxy(this.onTouchEnd))):(a.on("mousedown",this.proxy(this.onMouseDown)),b.on("mousemove",this.proxy(this.onMouseMove)),b.on("mouseup",this.proxy(this.onMouseUp)))},destroy:function(){var a=$(this.vars.target),b=this.vars.doc;a.length&&b&&("ontouchstart"in window?(a.off("touchstart",this.onTouchStart),b.off("touchmove",this.onTouchMove),b.off("touchend",this.onTouchEnd)):(a.off("mousedown",this.onMouseDown),b.off("mousemove",this.onMouseMove),b.off("mouseup",this.onMouseUp)))}})}.call(red);var red=red||{};red.module=red.module||{},red.module.CustomFormField=function(){return red.Module.extend({vars:{namespace:"customfield",field:null,customSelect:!0,showForMobile:!1,isMobile:/iP(hone|ad|od)|Android/.test(window.navigator.userAgent)},init:function(a){this.setDOMReferences(),this.setupCustomFormField()},setDOMReferences:function(){$.extend(this.vars,{type:this.setFieldType()})},setFieldType:function(){var a=this.vars.field,b=a.is("input")?a.attr("type"):a[0].nodeName.toLowerCase();return b},setupCustomFormField:function(){if(!this.vars.showForMobile&&this.vars.isMobile){$("html").addClass("mobile");if(this.vars.type==="select")return}if(this.vars.field.is("[type='hidden']"))return;this.addCustomWrapper()},addCustomWrapper:function(){var a=this.vars.type,b=this.vars.namespace,c="setup"+a.charAt(0).toUpperCase()+a.slice(1);this.vars.wrap=$("<span></span>").addClass(b),this.vars.wrap.addClass(this.vars.field.attr("class")),this.vars.wrap.addClass(b+"-"+a),this.vars.wrap.insertAfter(this.vars.field),this.vars.wrap.append(this.vars.field),a&&typeof this[c]=="function"&&this[c](),this.setupLabel(),this.setupEvents()},setupLabel:function(){var a=$("label[for='"+this.vars.field.attr("id")+"']");a.bind("mousedown mouseup tap click",this.proxy(function(a){a.preventDefault(),this.vars.wrap.trigger(a.type)}))},setupEvents:function(){var a=this.vars.wrap,b=this.vars.field,c=this.vars.namespace,d=c+"-hover",e=c+"-active",f=c+"-checked";a.bind({mouseenter:function(b){a.addClass(d),b.stopPropagation()},mouseleave:function(b){a.removeClass(d),a.removeClass(e),b.stopPropagation()},mousedown:function(b){a.addClass(e),b.stopPropagation()},mouseup:function(b){a.removeClass(e),b.stopPropagation()}})},setupCheckbox:function(){var a=this.vars.field,b=this.vars.namespace+"-checked";this.vars.field.is(":checked")&&this.vars.wrap.addClass(b),this.setupCheckboxEvents()},setupCheckboxEvents:function(){var a=this.vars.wrap,b=this.vars.field,c=this.vars.namespace,d=c+"-checked";a.bind("click",function(e){var f;b.trigger("click",!0),b.is(":checked")?a.addClass(d):a.removeClass(d),b.is(":radio")&&(f=b.closest("form").find(":radio[name='"+b.attr("name")+"']"),f=f.not(b).closest("."+c),f.removeClass(d)),e.stopPropagation()}),b.bind("click",function(b,c){c||a.trigger("click"),b.stopPropagation()})},setupRadio:function(){return this.setupCheckbox()},setupSelect:function(){var a=this.vars.field,b=a.find("option"),c=a[0].selectedIndex,d=b.eq(c);this.vars.current=$("<span></span>").addClass(this.vars.namespace+"-current"),this.vars.current.appendTo(this.vars.wrap),this.setActiveOption(d),this.vars.customSelect?this.buildCustomSelect(a,b,c):this.setupSelectEvents()},buildCustomSelect:function(a,b,c){var d=this.vars.wrap,e=a.html(),f=$("<ul></ul>");e=e.replace(/option/mg,"li"),e=e.replace(/value/mg,"data-value"),e=e.replace(/selected/mg,"data-selected"),f.html(e),this.setupCustomSelectEvents(f),$.extend(this.vars,{list:f,items:f.children()}),d.append(f),d.addClass(this.vars.namespace+"-custom-select")},setActiveOption:function(a){var b=this.vars.current,c=a.attr("value")||a.data("value"),d=this.vars.items,e;b.data("value",c),b.text(a.text()),d&&(e=d.filter("[data-value='"+c+"']"),d.removeAttr("data-selected"),e.attr("data-selected","selected"))},setupSelectEvents:function(){this.vars.field.bind("change",this.proxy(this.onSelectChange))},setupCustomSelectEvents:function(a){$(document).bind("click",this.proxy(this.onDocumentClick)),this.vars.wrap.bind({mouseenter:this.proxy(this.onSelectMouseEnter),mouseleave:this.proxy(this.onSelectMouseLeave)})},onSelectChange:function(a){var b,c;b=a.currentTarget,c=$(b.options[b.selectedIndex]),this.setActiveOption(c)},onSelectMouseEnter:function(a){this.vars.wrap.addClass(this.vars.namespace+"-select-active")},onSelectMouseLeave:function(a){this.vars.wrap.removeClass(this.vars.namespace+"-select-active")},onDocumentClick:function(a){var b=$(a.target),c=this.vars.wrap,d=b.closest(c),e=this.vars.namespace+"-select-active",f;if(!d.length){c.hasClass(e)&&c.removeClass(e);return}f=this.vars.field,b.is(this.vars.current)||b.is(this.vars.field)?c.toggleClass(e):c.hasClass(e)&&c.removeClass(e),b.is("li")&&this.vars.current.data("value")!==b.data("value")&&(f[0].selectedIndex=b.parent().children().index(b),f.trigger("change"),this.setActiveOption(b))}})}.call(red);var red=red||{},ff0000=ff0000||{};red.Site=ff0000=$.extend(!0,{},red,function(){var a,b,c="Page";return{models:{},init:function(){a=$(document),a.ready(this.onReady.call(this))},createModel:function(a,d,e){var f=(a+"").split(","),g=f.length-1,h=this.page[c],i;while(f[g]){i=f[g];if(typeof this.page[i]=="function"){h=this.page[i];break}g-=1}return b=new h(d,e),b},onReady:function(){var a=this.getPageData();this.setSystemProperties(),this.models.Shell=new this.module.Shell,this.models.History=new this.module.History,this.models.Tracking=new this.module.tracking.GA({debug:!1}),this.createModel(a.pageClass)},setDefaultPage:function(a){a!==c&&(c=a)},parseAnim:function(a){if(!a)return null;var b=window.parseFloat(a),c=a.replace(b,"");return c==="s"&&(b*=1e3),b},setSystemProperties:function(){var a=Modernizr.prefixed("animationDuration"),b=Modernizr.prefixed("animationTimingFunction"),c=$("body");ff0000.SYS=ff0000.SYS||{},$.extend(ff0000.SYS,{STATIC_URL:$("link[rel='static-url']").attr("href"),ANIMATION_DURATION:a?this.parseAnim(c.css(a)):750,ANIMATION_EASING:b?c.css(b):null})},getPageModel:function(){return b},getPageData:function(b){return b=b||a,$(b).find("[data-page-class]").data()}}}());var ff0000=ff0000||{};ff0000.utils=ff0000.utils||{},ff0000.Utils=function(){var a=Modernizr;return ff0000.Class.extend({namespace:null,uid:null,vars:{ich:"js/ff0000/views/{{path}}/{{template}}.json",vimeo:"http://player.vimeo.com/video/{{id}}?autoplay=1",support:{touch:a.touch,storage:a.sessionstorage&&"JSON"in window,pointerevents:a.pointerevents,transitions:a.csstransitions,animations:a.cssanimations,transforms:a.csstransforms,css3d:a.csstransforms3d},props:{transform:a.prefixed("transform"),tDuration:a.prefixed("transitionDuration"),tDelay:a.prefixed("transitionDelay"),aDuration:a.prefixed("animationDuration"),aEasing:a.prefixed("animationTimingFunction")}},getTemplate:function(a,b){var c=$.Deferred(),d;return ich[a]?c.resolveWith(this):(b=this.vars.ich.replace("{{path}}",b||"lithium"),d=red.Site.SYS.STATIC_URL+b.replace("{{template}}",a),$.getJSON(d).then(this.proxy(function(a){return ich.addTemplate(a.name,a.template),c.resolveWith(this,[a])})),c.promise())},fixVideoURL:function(a){var b=a.video_url,c=b.split("/").reverse()[0];return $.extend(a,{video_url:this.vars.vimeo.replace("{{id}}",c)})},checkRetina:function(){if(this.vars.isRetina)return this.vars.isRetina;var a="(-webkit-min-device-pixel-ratio: 2)";return this.vars.isRetina=window.matchMedia(a).matches,this.vars.isRetina},detectGetter:function(a){var b=$.get;return/http\:\/\//.test(a)&&!~a.indexOf(window.location.host)&&(b=this.proxy(this.getExternal)),b},buildLoadIndicator:function(){var a=$("<span></span>"),b=a.clone().addClass("loading");return b.append(a.clone().addClass("top")),b.append(a.clone().addClass("bottom")),b.append(a.clone().addClass("left")),b.append(a.clone().addClass("right")),b},startPreloader:function(a,b){if(this.vars.isLoading)return;var c=this.buildLoadIndicator();this.vars.loader=c,this.vars.isLoading=!0,b&&c.addClass("alt"),a.addClass("load"),a.append(c)},stopPreloader:function(){var a=this.vars.loader;a.parent().removeClass("load"),a.remove(),this.vars.isLoading=!1},preloadImage:function(a,b){var c=this.detectGetter(b);this.vars.cache=this.vars.cache||{};if(this.vars.cache[b])return;this.vars.cache[b]=b,c(b).then(this.proxy(function(){a.src=b,this.setTimeout(function(){a.className+=" loaded",this.setTimeout(function(){a.removeAttribute("data-lazy-src")})})}))},getExternal:function(a){var b=$.Deferred(),c;return c=$("<iframe></iframe>").attr({src:"/proxy/?image="+a}).css({position:"absolute",width:"1px",height:"1px",top:"-9999px",left:"-9999px",overflow:"hidden",display:"none"}).appendTo(document.body),c.on("load",this.proxy(function(a){return this.setTimeout(function(){c.remove(),c=null}),b.resolveWith(this,[c.contents().find("img")])})),b.promise()},getBoundingClientRect:function(a){var b=a[0]?a:$(a),c,d,e;return a=a[0]||a,a.getBoundingClientRect?a.getBoundingClientRect():(c=b.offset(),d=b.outerWidth(),e=b.outerHeight(),{left:c.left,top:c.top,right:c.left+d,bottom:c.top+e,width:d,height:e})},whichTransitionEvent:function(){if(this.vars.transitionEvent)return this.vars.transitionEvent;var a=document.createElement("fakeelement"),b,c;c={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in c)if(a.style[b]!==undefined)return this.vars.transitionEvent=c[b],c[b]},whichAnimationEvent:function(){if(this.vars.animationEvent)return this.vars.animationEvent;var a=document.createElement("fakeelement"),b,c;c={animation:"animationend",OAnimation:"oAnimationEnd",MSAnimation:"msAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(b in c)if(a.style[b]!==undefined)return this.vars.animationEvent=c[b],c[b]},destroy:function(){this.sup();var a,b;for(a in this.vars)this.vars.hasOwnProperty(a)&&(b=this.vars[a],b&&typeof b.destroy=="function"&&b.destroy(),this.vars[a]=null,delete this.vars[a]);for(a in this)this.hasOwnProperty(a)&&(this[a]=null,delete this[a])}})}.call(ff0000);var ff0000=ff0000||{};ff0000.page=ff0000.page||{},ff0000.Page=function(){return ff0000.Utils.extend({vars:{},init:function(a,b){this.sup(a,b)},start:function(){this.setDOMReferences()},setDOMReferences:function(){$.extend(this.vars,{body:$(document.body),win:$(window),doc:$(document)})},destroy:function(){this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.page.HistoryPage=function(){var a='[data-transitional="main-content"]';return ff0000.Page.extend({namespace:"page",vars:{scrollers:[],ios:/iP((a|o)d|hone)/.test(window.navigator.userAgent),transitionMode:"in",shouldHoldHistoryState:!1},init:function(a,b){this.sup(a,b),b||this.start()},start:function(a){this.sup(),this.setupEvents(),this.setWindowDimensions(),this.updatePictures(),this.initScrollers(a)},setDOMReferences:function(){this.sup()},setupEvents:function(){this.vars.win.on("smartresize",this.proxy(this.onResize))},initScrollers:function(a){var b,c,d,e,f=[];a=a||this.vars.body,this.vars.support.touch?b=a.find(".scrollable-touch"):b=a.find(".scrollable");for(c=0,d=b.length;c<d;c++)e=new ff0000.module.Scrollbar({target:$(b[c])}),this.vars.scrollers.push(e)},updatePictures:function(){window.picturefill()},getPageTransitionMode:function(){return this.vars.transitionMode},holdHistoryState:function(){return this.vars.shouldHoldHistoryState},getOutgoing:function(){return this.vars.tOut||$(a).eq(0)},setWindowDimensions:function(){var a=this.vars.win||$(window);$.extend(this.vars,{winWidth:a.width(),winHeight:a.height()})},onResize:function(){this.setWindowDimensions(),this.updatePictures()},removeImages:function(a){var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";a.find("img").attr("src",b)},getDirection:function(){return ff0000.module.history.direction},beforeTransitionIn:function(a,b){a.insertBefore(b)},createTransition:function(a,b,c){if(!a.length)return b.resolveWith(this);var d=this.getDirection(),e;return e=new ff0000.module.transition.Slide({target:a,mode:d,destroy:!0}),e.bind("transitionend",this.proxy(function(){return b.resolveWith(this)})),e.start(),b.promise()},transitionIn:function(a,b){return this.createTransition(a,b,"in")},transitionOut:function(a,b){return this.createTransition(a,b,"out")},createTransitionIn:function(b,c){var d=$.Deferred(),e=$.Deferred(),f=this.getPageTransitionMode(),g=b.filter(a).eq(0),h=this.getOutgoing(),i;return this.vars.tOut=h,b.length?(this.beforeTransitionIn(g,h),this.onResize(),i=b.find(a),b.data("transitional")==="main-content"&&(i=i.add(b)),this.transitionIn(i,e).then(function(){return this.transitionInComplete(i),d.resolveWith(this)}),d.promise()):d.resolveWith(this)},transitionInComplete:function(a){this.start(a)},createTransitionOut:function(b){var c=$.Deferred(),d=$.Deferred(),e=this.getPageTransitionMode(),f=b.filter(a).eq(0),g=this.getOutgoing();return b.length?(this.transitionOut(g,d).then(function(){return this.afterTransitionOut(f,g,e),this.vars.tOut=null,c.resolveWith(this)}),c.promise()):c.resolveWith(this)},afterTransitionOut:function(a,b,c){b=b||this.getOutgoing(),this.removeImages(b),c==="outThenIn"?b.replaceWith(a):b.remove()},transitionOutComplete:function(){},destroy:function(){var a=this.vars.scrollers,b,c;for(b=0,c=a.length;b<c;b++)a[b].destroy();this.vars.win&&this.vars.win.off("smartresize",this.onResize),this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.page.GridPage=function(){return ff0000.page.HistoryPage.extend({namespace:"ff0000/pages/shared/grid",vars:{api:null},init:function(a,b){this.sup(a,b)},setDOMReferences:function(){this.sup();var a=$(".lithium"),b=$(".lithium-filter");$.extend(this.vars,{grid:a,form:b.find("form"),inputs:b.find(":input")})},start:function(a){this.sup(a),this.setupCustomFormFields(),this.setupLithium()},setupCustomFormFields:function(){var a=this.vars.inputs,b,c,d;for(b=0,c=a.length;b<c;b++)d=new ff0000.module.CustomFormField({field:$(a[b])})},setupLithium:function(){var a=new ff0000.module.Lithium({target:this.vars.grid,api:this.vars.api});this.vars.lithium=a},destroy:function(){this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.page.DetailPage=function(){return ff0000.page.HistoryPage.extend({namespace:"ff0000/pages/shared/detail",vars:{},init:function(a,b){this.sup(a,b)},start:function(a){this.sup(a),this.setBackgroundProperties()},setupEvents:function(){this.vars.videos.on("tap",this.proxy(this.onVideoRequest)),this.vars.parent.on("tap",this.proxy(this.onClose)),this.vars.doc.on("keydown",this.proxy(this.onNavDown)),this.vars.doc.on("tap",".related-nav a",this.proxy(this.onNavClick)),this.setupTouchEvents(),this.sup()},setDOMReferences:function(){this.sup();var a=$(".local-content"),b=$("#image-fallback");$.extend(this.vars,{main:$("#main"),parent:a,section:a.find(".local-container > section"),fallback:b,videos:$(".ad-detail a, .video-url"),image:b.attr("src"),nav:a.find(".related-nav")})},setTransform:function(a,b){a.css("-webkit-transform",b)},resetTransition:function(a,b,c,d){b+=typeof b=="number"?"ms":"",c+=typeof b=="number"?"ms":"",d+=typeof b=="number"?"ms":"",a.css({"-webkit-transition-duration":b,"-webkit-transition-timing-function":c,"-webkit-transition-delay":d})},getMatrix:function(a){a=a[0]||a;var b=window.getComputedStyle(a,null).webkitTransform,c=new window.WebKitCSSMatrix(b);return c},roundMatrixValues:function(a){if(a.target===a.currentTarget){var b=$(a.currentTarget),c=this.getMatrix(b),d;for(d in c)typeof c[d]=="number"&&(c[d]=Math.floor(c[d]));this.resetTransition(b,0),this.setTransform(b,c)}},getTouchObject:function(a){return a=a.originalEvent||a,a.touches?a.touches[0]:a},addPullToRefresh:function(){var a=this.vars.main,b=$(".related-nav"),c=$('<div class="touch-pull-to-nav"><div class="touch-arrow"></div></div>'),d=this.vars.main.find(".touch-prev"),e=b.find(".related-prev a").clone(),f=this.vars.main.find(".touch-next"),g=b.find(".related-next a").clone();e.length?(d.length?d.find("a").remove():(d=c.clone().addClass("touch-prev"),d.append(this.buildLoadIndicator())),d.append(e),a.prepend(d)):d.remove(),g.length?(f.length?f.find("a").remove():(f=c.clone().addClass("touch-next"),f.append(this.buildLoadIndicator())),f.append(g),a.append(f)):f.remove(),a.addClass("touch-hidden")},triggerLoad:function(a){var b=a?"next":"prev",c=$(".related-"+b+" a");c.length?(this.vars.loading=!0,this.vars.main.addClass("touch-loading"),c.trigger("tap")):this.setTimeout(this.onPageLoadComplete)},onTouchStart:function(a){if(this.vars.loading||!this.vars.nav.length)return!0;var b=this.getTouchObject(a);$.extend(this.vars,{matrix:this.getMatrix(this.vars.main),touch:b,startX:b.pageX,startY:b.pageY}),this.vars.currX=null,this.vars.currY=null,this.vars.diffX=null,this.vars.diffY=null,this.vars.touchEndFired=!1,this.vars.lockHorizontal=!1,this.resetTransition(this.vars.main,350),this.setTransform(this.vars.main,this.vars.matrix.translate(0,0,0))},onTouchMove:function(a){if(this.vars.loading||!this.vars.touch||this.vars.touchEndFired||!this.vars.nav.length)return;var b=this.getTouchObject(a),c=b.pageX,d=b.pageY,e=this.vars.main;$.extend(this.vars,{touch:b,currX:c,currY:d,directionX:c>this.vars.oldX?"left":"right",oldX:c,diffX:c-this.vars.startX,diffY:d-this.vars.startY,mainRect:e[0].getBoundingClientRect(),controlRect:this.vars.control[0].getBoundingClientRect()});if(!this.vars.lockHorizontal&&Math.abs(this.vars.diffY)>10)return!0;this.vars.lockHorizontal=!0,a.preventDefault();if(this.vars.mainRect.left>=this.vars.controlRect.left||this.vars.mainRect.right<=this.vars.controlRect.right)this.vars.diffX*=.45;this.setTransform(e,this.vars.matrix.translate(this.vars.diffX,0,0)),this.vars.touchMoveFired||(this.addPullToRefresh(),this.resetTransition(e,0)),this.vars.touchMoveFired=!0,Math.abs(this.vars.diffX)>this.vars.elementThreshold?e.addClass("touch-triggered"):e.hasClass("touch-triggered")&&e.removeClass("touch-triggered")},onTouchEnd:function(){if(this.vars.loading||!this.vars.nav.length)return;if(!this.vars.main.length||!this.vars.lockHorizontal)return;this.vars.touchEndFired=!0,this.vars.touchMoveFired=!1;var a=this.vars.main,b=Math.abs(this.vars.diffX),c=b>this.vars.elementThreshold,d=this.vars.diffX<0,e=0;c?(this.triggerLoad(d),e=this.vars.elementThreshold*(d?-1:1)):a.removeClass("touch-hidden"),this.resetTransition(a,350),this.setTransform(a,this.vars.matrix.translate(e,0,0))},setupTouchEvents:function(){if(!this.vars.support.touch)return;this.subscribe(ff0000.module.History.PAGE_LOAD_COMPLETE,this.proxy(this.onPageLoadComplete)),$.extend(this.vars,{control:this.vars.body,elementThreshold:60,mainRect:this.getBoundingClientRect(this.vars.main),controlRect:this.getBoundingClientRect(this.vars.body)}),this.vars.main.on({touchstart:this.proxy(this.onTouchStart),touchmove:this.proxy(this.onTouchMove),touchend:this.proxy(this.onTouchEnd),webkitTransitionEnd:this.proxy(this.roundMatrixValues)})},onPageLoadComplete:function(){var a=$("#main"),b=this.vars.props.transform;a.css(b,"translate3d(0, 0, 0)"),a.removeClass("touch-hidden"),a.removeClass("touch-loading")},setBackgroundProperties:function(){if(!this.vars.image||!this.vars.image.length)return;var a=this.vars.parent,b=this.vars.section,c=this.vars.image,d=this.vars.fallback,e=$("<div></div>").attr("id","image-background");e.css({"background-image":"url("+c+")"}),a.append(e),b.append(d.parent())},slugify:function(a){return a=a.replace(/[^-a-zA-Z0-9,&\s]+/ig,""),a=a.replace(/-/gi,"_"),a=a.replace(/\s/gi,"-"),a},onVideoRequest:function(a){a.preventDefault();var b=$(a.currentTarget),c=b.attr("href").trim(),d=b.text(),e=b.hasClass("fullscreen");this.getTemplate("itemvideolarge").then(function(){this.constructVideo(c,e)}),this.publish("track",{url:"/video/"+this.slugify(d.trim().toLowerCase()),type:"page"}),this.publish("track",{type:"event",category:b.hasClass("video-url")?"Play Video":"See Ad",action:d,label:"Click",value:1})},constructVideo:function(a,b){var c=ich.itemvideolarge(this.fixVideoURL({video_url:a,fullscreen:b}));c.append('<div class="navigation-back"><a href="#close"></a></div>'),this.vars.parent.append(c)},onClose:function(a){var b=$(a.target),c,d;if(!b.parent().hasClass("navigation-back"))return;a.preventDefault(),c=b.closest(".video"),d=this.whichAnimationEvent(),this.vars.support.animations&&this.vars.support.css3d?(c.addClass("video-hide"),c.on(d,function(a){if(a.target!==this)return;c.off(d),c.remove()})):c.remove()},onNavDown:function(a){var b=$(a.target),c=this.vars.nav,d;switch(a.which){case 37:d=c.find(".related-prev a"),d.length||(d=c.find(".related-thumb a"));break;case 38:d=c.find(".related-thumb a");break;case 39:d=c.find(".related-next a")}d&&d.trigger("tap")},onNavClick:function(a){var b=$(a.currentTarget),c=b.parent(),d="All Work",e=$(".local-content").hasClass("project");c.hasClass("related-prev")?d="Previous "+e?"Project":"Area Nav":c.hasClass("related-next")&&(d="Next "+e?"Project":"Area Nav"),this.publish("track",{type:"event",category:e?"Navigate Work":"Focus Section",action:d,label:d==="All Work"?"Click":b.attr("href"),value:1})},destroy:function(){this.vars.videos&&this.vars.videos.off("tap",this.onVideoRequest),this.vars.parent&&this.vars.parent.off("tap",this.onClose),this.vars.main&&this.vars.main.off({touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,webkitTransitionEnd:this.roundMatrixValues}),this.vars.doc&&(this.vars.doc.off("keydown",this.onNavDown),this.vars.doc.off("tap",".related-nav a",this.onNavClick)),this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.Module=function(){return ff0000.Utils.extend({namespace:"ff0000/module",vars:{ios:/iP((a|o)d|hone)/.test(window.navigator.userAgent),events:{}},init:function(a){this.sup(a)},bind:function(a,b){this.vars.events["on"+a]=this.vars.events["on"+a]||[],this.vars.events["on"+a].push(b)},unbind:function(a,b){var c,d,e,f;if(!a&&!b){for(d in this.vars.events)this.vars.events.hasOwnProperty(d)&&(this.vars.events[d]=null);delete this.vars.events}else{c=this.vars.events["on"+a];if(c)for(e=0,f=c.length;e<f;e++)if(!b||c[e]===b)c[e]=null}},trigger:function(a,b){if(!this.vars.events)return;var c=this.vars.events["on"+a],d,e,f;if(c&&c.length){Object.prototype.toString.call(b)!=="[object Array]"&&(b=[b]),b[0]&&(b[0].type=b[0].type||a);for(d=0,e=c.length;d<e;d++)f=c[d],f&&f.apply(this,b||[{type:a}])}},destroy:function(){this.unbind(),this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.Shell=function(){var a;return ff0000.Module.extend({namespace:"ff0000/module/shell",vars:{},init:function(){this.setDOMReferences(),this.setupHeader(),this.fixTouchHover(),this.sggEretsaEdliuB(),this.sup(),this.subscribe(ff0000.module.History.SECTION_LOAD_COMPLETE,this.proxy(this.transitionSection)),this.subscribe(ff0000.module.Lithium.FILTER,this.proxy(this.storeFilterQuery)),this.subscribe(ff0000.module.History.PAGE_TRANSITION_COMPLETE,this.proxy(this.publishFilterQuery)),this.subscribe(ff0000.module.Lithium.FILTER_CHECK,this.proxy(this.publishFilterQuery)),this.subscribe(ff0000.module.Lithium.FILTER_CLEAR,this.proxy(this.clearFilterQuery)),this.subscribe(ff0000.module.History.HISTORY_STATE_CHANGE,this.proxy(this.trackPage))},setDOMReferences:function(){$.extend(this.vars,{html:$("html"),doc:$(document),win:$(window)})},setupHeader:function(){this.vars.html.addClass("enabled"),this.subscribe(ff0000.module.History.SECTION_DATA_UPDATE,this.proxy(this.setActiveSection)),this.vars.doc.on("tap","header[role='banner'] a",this.proxy(this.onNavClick)),this.vars.support.touch&&this.vars.doc.on("tap","[target='_blank'], [href^='mailto:']",this.proxy(this.onExternalClick))},onNavClick:function(a){var b=$(a.currentTarget);this.publish("track",{type:"event",category:"Nav Selection",action:b.text(),label:"Click",value:1})},fixTouchHover:function(){var a=this.vars.doc,b=this.vars.win;a.on("touchstart",this.proxy(this.onTouchStart)),a.on("touchend",this.proxy(this.onTouchEnd)),b.on("orientationchange",this.proxy(this.hideURLBar)),window.setTimeout(this.hideURLBar)},hideURLBar:function(){window.scrollTo(0,1)},onTouchStart:function(a){$(a.target).addClass("touch-hover")},onTouchEnd:function(a){$(".touch-hover").removeClass("touch-hover")},setActiveSection:function(a,b){var c=b.state.data.url,d=$("header [data-history]"),e=d.filter('[href="'+c+'"]'),f=e.closest("li[class]");f.length&&(e=f.children("a")),d.removeClass("active"),e.addClass("active")},transitionSection:function(a,b,c,d){var e=new ff0000.module.transition.Section({outgoing:$("[data-transitional='section-content']"),target:c});e.bind("transitionend",function(a){e.destroy()}),e.start(),this.vars.module=e},storeFilterQuery:function(a,b,c){this.vars.support.storage&&window.sessionStorage.setItem("params",c),this.vars.params=c},publishFilterQuery:function(){var a=this.vars.params;!a&&this.vars.support.storage&&(a=window.sessionStorage.getItem("params")),this.publish(ff0000.module.Lithium.FILTER_DATA,[a])},clearFilterQuery:function(){this.vars.params=null,this.vars.support.storage&&window.sessionStorage.removeItem("params")},zomgRand:function(){var a;this.vars.red?(window.clearInterval(this.vars.red),$("#logo a").css("background-color",""),this.vars.red=null):this.vars.red=window.setInterval(function(){a=("00"+(Math.random()*4096<<0).toString(16)).substr(-3),$("#logo a").css("background-color","#"+a)},ff0000.SYS.ANIMATION_DURATION)},checkREDKeys:function(a){this.vars.keys=this.vars.keys||[],this.vars.keys.push(a.which);var b=this.vars.keys,c=[82,69,68],d,e;for(d=0,e=b.length;d<e;d++){if(b[d]!==c[d]){this.vars.keys=[];break}if(b.length===3)return this.vars.keys=[],this.zomgRand()}},checkShiftKey:function(a){if(a.which!==16)return!0;var b=this.vars.html;if(b.hasClass("shift")&&this.vars.isTransitioning)return;this.vars.origDuration=this.vars.origDuration||ff0000.SYS.ANIMATION_DURATION,a.type==="keydown"?(b.addClass("shift"),ff0000.SYS.ANIMATION_DURATION*=4):(b.removeClass("shift"),ff0000.SYS.ANIMATION_DURATION=this.vars.origDuration)},sggEretsaEdliuB:function(){var a=this.vars.doc;a.on("keydown",$.debounce(this.proxy(this.checkShiftKey),0)),a.on("keydown",this.proxy(this.checkREDKeys)),a.on("keyup",this.proxy(this.checkShiftKey)),this.subscribe(ff0000.module.History.PAGE_LOAD_START,this.proxy(this.onTransitionStart)),this.subscribe(ff0000.module.History.PAGE_TRANSITION_COMPLETE,this.proxy(this.onTransitionComplete))},onTransitionStart:function(){this.vars.isTransitioning=!0},onTransitionComplete:function(){this.vars.isTransitioning=!1,this.checkShiftKey({which:16})},trackPage:function(a,b){this.publish("track",{type:"page",url:b.data.url})},onExternalClick:function(a){a.stopPropagation(),window.open(a.currentTarget.href)},destroy:function(){var a=this.vars.doc,b=this.vars.win;a&&(a.off("touchstart",this.onTouchStart),a.off("touchend",this.onTouchEnd),a.off("keydown",this.checkShiftKey),a.off("keydown",this.checkREDKeys),a.off("keyup",this.checkShiftKey),a.off("tap","[target='_blank']",this.onExternalClick)),b&&b.off("orientationchange",this.hideURLBar),this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.history=ff0000.module.history||{},ff0000.module.History=function(){var a={MODAL_LOAD_COMPLETE:"module/history/modal-load-complete",HISTORY_LINK_CLICK:"module/history/history-link-click",HISTORY_STATE_CHANGE:"module/history/history-page-state",PAGE_LOAD_START:"module/history/page-load-request",PAGE_LOAD_COMPLETE:"module/history/page-load-complete",PAGE_DATA_UPDATE:"module/history/page-data-update",PAGE_LOAD_ERROR:"module/history/page-load-error",PAGE_TRANSITION_COMPLETE:"module/history/page-transition-complete",SECTION_LOAD_COMPLETE:"module/history/section-load-complete",SECTION_TRANSITION_COMPLETE:"module/history/section-transition-complete",SECTION_DATA_UPDATE:"module/history/section-data-update",CHROME_PAUSE_START:"module/history/chrome-pause-start",CHROME_PAUSE_COMPLETE:"module/history/chrome-pause-complete",SILENTLY_GO_BACK:"module/history/silently-go-back"},b="HistoryPage",c="RED Interactive Agency",d;return ff0000.Module.extend({namespace:"ff0000/module/history",vars:{cssPath:"css/pages/",jsPath:"js/ff0000/pages/",pages:["about","contact","culture","focus","home","news","work"],xhr:null,chrome:/Chrome/.test(window.navigator.userAgent),cache:{},states:[]},init:function(){this.sup(this);if(!this.isSupported())return;d=window.History,this.testAppcacheSupport(),this.setupDefaultPage(),this.setupEvents(),this.setTimeout(this.preloadPages,5e3)},testAppcacheSupport:function(){$.extend(this.vars,{appcache:$("html[manifest]").length})},getPageTitle:function(a){var b=a.html.match(/<title>([^<]+)<\/title>/),d=b&&b[1]?b[1]:c;return $.extend(a,{title:$("<div/>").html(d).text()})},cacheJSON:function(a,b,c){!c&&this.vars.support.storage?window.sessionStorage.setItem(a,JSON.stringify(b)):this.vars.cache[a]=b},getCachedJSON:function(a){return this.vars.support.storage&&window.sessionStorage.getItem(a)?JSON.parse(window.sessionStorage.getItem(a)):this.vars.cache[a]?this.vars.cache[a]:null},loadJSON:function(a){var b=$.Deferred(),c=this.getCachedJSON(a),d;return c?b.resolveWith(this,[c]):(d=a==="home"?"/":"/"+a+"/",$.getJSON(d,$.param({_:1})).then(this.proxy(function(a){return b.resolveWith(this,[a])})),b.promise())},preloadPage:function(a){var b=$.Deferred(),c=this.vars.pages[a],d=ff0000.SYS.STATIC_URL,e=d+this.vars.jsPath,f=d+this.vars.cssPath,g,h;return this.loadJSON(c).then(this.proxy(function(a){a=this.getPageTitle(a),g=a.javascript,h=a.stylesheet,this.cacheJSON(c,a);if(!h&&!g)return b.resolveWith(this);$.when(this.appendStyleSheet(h),this.appendJavaScript(g)).then(this.proxy(function(){return b.resolveWith(this)}))})),b.promise()},preloadPages:function(){if(this.vars.appcache||this.vars.ios)return;this.vars.count=this.vars.count||0,this.preloadPage(this.vars.count++).then(function(){this.vars.pages[this.vars.count]&&this.preloadPages()})},isSupported:function(){var a=Modernizr,b=navigator.userAgent.toLowerCase();return!!(a.history&&a.cssanimations&&a.csstransitions&&a.csstransforms3d)},setupDefaultPage:function(){ff0000.setDefaultPage(b)},setupEvents:function(){$(document).on("tap","[data-history]",this.proxy(this.changeState)),this.subscribe(a.PAGE_LOAD_START,this.proxy(this.onPreloadStart)),this.subscribe(a.PAGE_LOAD_COMPLETE,this.proxy(this.onPreloadComplete)),this.subscribe(a.PAGE_LOAD_COMPLETE,this.proxy(this.transitionPages)),this.subscribe(a.SECTION_TRANSITION_COMPLETE,this.proxy(this.transitionSection)),this.subscribe(a.SILENTLY_GO_BACK,this.proxy(this.silentlyGoBack)),this.vars.chrome&&(this.subscribe(a.CHROME_PAUSE_START,this.proxy(this.onChromePause)),this.subscribe(a.CHROME_PAUSE_COMPLETE,this.proxy(this.onChromePauseComplete))),d.Adapter.bind(window,"statechange",this.proxy(this.onStateChange))},getHistoryFragments:function(a,b){var c=a||d.getState(),e=d.getStateByIndex(d.savedStates.length-2),f=this.getURL(c,b).split("/"),g=this.getURL(e,b).split("/");return{current:f,previous:g}},transitionPages:function(a,b,c,d){var e=$(c),f,g,h=ff0000.getPageModel(),i=e.find("[data-transitional]"),j=this.getHistoryFragments(b),k=j.current[0]!==j.previous[0];e.data("transitional")&&(i=i.add(e)),d&&(d=this.updatePageData(d,k));if(h){f=ff0000.createModel(d.pageClass,null,c),g=f.getPageTransitionMode();if(k)return this.storeSectionData({oldPage:h,newPage:f,state:b,context:c,pageData:d,transitionals:i});switch(g){case"outThenIn":h.createTransitionOut(i).then(function(){h.destroy(),f.createTransitionIn(i).then(this.finalizeTransition)});break;case"inThenOut":f.createTransitionIn(i).then(function(){h.createTransitionOut(i).then(function(){h.destroy(),this.finalizeTransition()})});break;case"in":h.destroy(),f.createTransitionIn(i,h).then(this.proxy(function(){f.afterTransitionOut(i),this.finalizeTransition()}));break;case"dual":h.createTransitionOut(i).then(function(){h.destroy()}),f.createTransitionIn(i).then(this.finalizeTransition)}}else $(document).trigger("track",{type:"event",category:"error",action:"transition",label:"transition-in-error"})},storeSectionData:function(b){this.vars.sectionData=b,b.oldPage.destroy(),this.publish(a.SECTION_DATA_UPDATE,[b]);if(!this.vars.sectionContext)return;this.finalizeSectionTransition()},transitionSection:function(a,b){this.vars.sectionContext=b;if(!this.vars.sectionData)return;this.finalizeSectionTransition()},finalizeSectionTransition:function(){var a=this.vars.sectionData,b=this.vars.sectionContext;a.newPage.transitionInComplete(b),this.finalizeTransition(),this.vars.sectionData=!1,this.vars.sectionContext=!1},finalizeTransition:function(){var b=$(document);b.trigger("track",{type:"page"}),b.trigger("transition-in-complete"),this.publish(a.PAGE_TRANSITION_COMPLETE)},updatePageData:function(b,c){var d=$(document.body),e=$("[data-transitional='section-content']");return d.attr({"class":b.ajaxClass}),e.attr("data-page-class",b.ajaxPageClass),e.data("page-class",b.ajaxPageClass),c||e.attr("class",b.ajaxClass),this.publish(a.PAGE_DATA_UPDATE,[b]),ff0000.getPageData()},silentlyGoBack:function(){var a=d.getStateByIndex(d.savedStates.length-2),b=a.data;b.silent=!0,d.pushState(b,b.title,b.url)},changeState:function(b){if(b.altKey||b.ctrlKey||b.metaKey)return;var c=$(b.currentTarget),e={title:c.attr("title"),url:c.attr("href")};return ff0000.module.history.link=c,this.publish(a.HISTORY_LINK_CLICK,[c]),c.data("history-direction")==="back"?d.back():d.pushState(e,e.title,e.url),b.preventDefault(),!1},appendStyleSheet:function(a){var b=$.Deferred(),c=$("style[data-href='"+a+"']"),d,e;return a?a&&!c.length?(d=$("<style></style>"),d.attr({type:"text/css","data-href":a}),$.get(a).then(this.proxy(function(a){return e=document.createTextNode(a),d.styleSheet?d.styleSheet.cssText=e.nodeValue:d.append(e),d.appendTo("head"),b.resolveWith(this)})),b.promise()):b.resolveWith(this):b.resolveWith(this)},appendJavaScript:function(a){var b=$.Deferred(),c=$("script[src='"+a+"']");if(!a||c.length)return b.resolveWith(this);if(a)return Modernizr.load({load:a,complete:this.proxy(function(){return b.resolveWith(this)})}),b.promise()},asyncLoad:function(a){var b=$.Deferred(),c,d,e,f=0,g;if(!a.length)return b.resolveWith(this);g=function(){f++;if(f===d)return b.resolveWith(this)};for(c=0,d=a.length;c<d;c++)e=a[c],$.ajax({url:a,complete:this.proxy(g)});return b.promise()},preloadAssets:function(a){var b=[],c=$(a.html).find("img"),e=a.stylesheet,f=a.javascript,g,h;for(g=0,h=Math.min(c.length,5);g<h;g++)b.push(c[g].getAttribute("src"));d.setTitle({title:a.title}),$.when(this.asyncLoad(b),this.appendStyleSheet(e),this.appendJavaScript(f)).then(this.proxy(function(){this.onLoadComplete(a)}))},onLoadComplete:function(b){var c=d.getState(),e=b.html,f=$(e).find("[data-ajax-page-class]").data()||{};!this.vars.chrome||!this.vars.waitForChrome?(this.publish(a.PAGE_LOAD_COMPLETE,[c,e,f]),this.vars.sectionData&&this.publish(a.SECTION_LOAD_COMPLETE,[c,e,f]),this.vars.xhr=null):this.vars.chromeJSON=b},getURL:function(a,b){var c=window.location,d=a.data.url||a.cleanUrl.replace([c.protocol,"//",c.host].join(""),""),e;return b&&(d=d.replace(c.search,"")),e=d.replace(/^\//,"").replace(/\/$/,""),e},plotDirection:function(a){var b=this.getURL(a),c=this.vars.states,d=ff0000.module.history.link,e=this.getHistoryFragments(a,!0),f=e.current,g=e.previous,h="forwards",i,j;if(d&&d.data("history-style"))h=d.data("history-style");else{for(i=c.length,j=0;i>=j;i--)if(b===c[i]){h="backwards",c.splice(i,c.length-i);break}f[0]===g[0]&&(f.length>g.length?h="up":f.length<g.length&&(h="down"))}return c.push(b),this.vars.states=c,h},onPreloadStart:function(){var a=$("header[role='banner']");this.startPreloader(a,!0)},onPreloadComplete:function(){this.stopPreloader()},cacheAssets:function(a){a=this.getPageTitle(a),this.cacheJSON(a.path,a,!0),this.preloadAssets(a)},loadPage:function(b){this.vars.chrome&&(this.publish(a.CHROME_PAUSE_START),this.setTimeout(function(){this.publish(a.CHROME_PAUSE_COMPLETE)},500));var c=this.getURL(b),d=this.getCachedJSON(c);d?this.preloadAssets(d):this.vars.xhr=$.ajax({url:b.url,data:this.vars.appcache?{ac:1}:{_:1},dataType:"json",success:this.proxy(this.cacheAssets),error:this.proxy(function(){this.publish(a.PAGE_LOAD_ERROR,[b]),window.location.reload()})})},onChromePause:function(){this.vars.waitForChrome=!0},onChromePauseComplete:function(){this.vars.waitForChrome=!1,this.vars.chromeJSON&&(this.onLoadComplete(this.vars.chromeJSON),this.vars.chromeJSON=null)},onStateChange:function(b){var c=d.getState();$.extend(ff0000.module.history,{direction:this.plotDirection(c)}),this.publish(a.HISTORY_STATE_CHANGE,[c]);if(c.data.silent)return b.preventDefault(),!1;this.publish(a.PAGE_LOAD_START,[c]),this.vars.xhr&&this.vars.xhr.abort(),this.loadPage(c)},destroy:function(){$(document).off("tap","[data-history]",this.changeState),d.Adapter.unbind(window,"statechange",this.onStateChange),this.sup()}},a)}.call(ff0000.module.history);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.lithium=ff0000.module.lithium||{},ff0000.module.Lithium=function(){var a={FILTER:"module/lithium/filter",FILTER_CLEAR:"module/lithium/filter-clear",FILTER_DATA:"module/lithium/filter-data",FILTER_CHECK:"module/lithium/filter-check"};return ff0000.Module.extend({namespace:"ff0000/module/lithium",vars:{target:null,page:1,CHROME_TEMP_FIX_SNIFF:function(){var a=/Chrome\/21/.test(window.navigator.userAgent),b=/21/.test(window.location.search);return!!a&&!b}(),itemSize:240,api:null,interval:15,type:"all",twitter:"//twitter.com/redinteractive"},init:function(){if(!this.vars.target)return;this.vars.ios=!!this.vars.ios||!!this.vars.CHROME_TEMP_FIX_SNIFF,this.setDOMReferences();if(this.vars.masonry){var a=ff0000.SYS.STATIC_URL+"js/libs/plugins/jquery.masonry.js";Modernizr.load({load:a,complete:this.proxy(this.setupMasonry)})}else this.setupEssential();this.sup()},setupMasonry:function(){this.vars.list.masonry({itemSelector:"[data-type]"}),this.setupEssential()},setupEssential:function(){this.setupEvents(),this.setupLithium()},setDOMReferences:function(){var a=this.vars.target.find(".lithium-grid"),b=a.find("[data-type]"),c=$(".lithium-filter"),d=c.find("form"),e=c.find("label"),f=c.find(":radio, select"),g=c.find(":input").not("#default-filter"),h=c.find(":checkbox"),i=c.find(".lithium-counter"),j=c.find(".lithium-num"),k=c.find(".lithium-total"),l=$(".lithium-nav");this.setupIcons(b),$.extend(this.vars,{doc:$(document),win:$(window),nav:l,grid:a,form:d,main:$("#main"),list:a.find("ul"),items:b,checks:h,filters:f,fields:g,labels:e,counter:i,ticker:j,total:k,activeFilter:$("#default-filter").val()}),this.vars.ios||this.updateNavigation()},setupLithium:function(){var b=0,c=this.vars.target,d=this.vars.items;this.publish(a.FILTER_CLEAR),this.subscribe(ff0000.module.Scrollbar.SCROLL_READY,this.proxy(this.updatePerspective)),this.setWindowDimensions(),this.animateItems(),this.checkInitialFilter()},setupEvents:function(){$(window).on("smartresize",this.proxy(this.onResize)),this.subscribe(ff0000.module.Scrollbar.SCROLL,this.proxy(this.onScroll)),this.vars.grid.on("tap",".filter",this.proxy(this.onFilter)),this.vars.grid.on("tap",".embiggen",this.proxy(this.onEnlarge)),this.vars.grid.on("tap",".launch",this.proxy(this.onLaunch)),this.vars.doc.on("tap",this.proxy(this.clearFilter)),this.vars.support.touch&&this.vars.grid.on("tap","[data-type]",this.proxy(this.onItemTap)),this.vars.filters.on("change",this.proxy(this.onFormFilter)),this.vars.checks.on("change",this.proxy(this.filterConstants)),this.vars.nav.on("tap","a",this.proxy(this.onNav)),this.vars.filters.filter(":checked").trigger("change",!0),this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE)},setWindowDimensions:function(){var a=this.vars.win;$.extend(this.vars,{winWidth:a.width(),winHeight:a.height()}),this.findRightColumn()},checkInitialFilter:function(){this.vars.activeFilter&&this.updateFilterCount()},updateNavigation:function(){var a=this.vars.nav,b=$('<div class="load-bar">Loading more items</div>');a.empty(),a.prepend(b),b.append(this.buildLoadIndicator())},removeNavigation:function(){this.vars.nav.remove()},findVisibleItems:function(a,b){a=a||this.vars.items;var c=100,d=this.vars.winHeight+c,e,f,g=$();for(i=0,j=a.length;i<j;i++)e=$(a[i]),f=e.offset().top,!e.hasClass("enlarge-item")&&f>=-c&&f<d&&(g=g.add(e));return b&&(g=g.not("[data-type*='"+this.deItemizeType(b)+"']")),g},addRippleEffect:function(a,b){if(!this.vars.support.transitions)return;var c=this.vars.props.tDelay,d=this.vars.interval,e,f,g;a=this.findVisibleItems(a||this.vars.items,b),this.vars.items.css(c,""),this.vars.items.children().css(c,"");for(e=0,f=a.length;e<f;e++)g=d*e+"ms",a[e].style[c]=g,a[e].firstChild.style[c]=g},fixDisplay:function(a,b){return a.style.display=b,window.getComputedStyle(a).display},animateItems:function(a){if(!this.vars.support.transitions||!this.vars.support.css3d){this.vars.loading=!1,this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE);return}var b,c,d,e,f=this.vars.winHeight,g=this.vars.props.transform,h,i,j=ff0000.SYS.ANIMATION_DURATION,k=this.vars.props.tDuration,l=this.vars.props.tDelay,m=this.vars.interval,n;b=this.findVisibleItems(a),this.vars.visible=b;for(c=0,d=b.length;c<d;c++)e=b[c],e.style[k]="0",e.style.opacity="0",this.fixDisplay(e,"none"),this.fixDisplay(e,"block"),h=window.getComputedStyle(e)[g],this.fixDisplay(e,"none"),h&&(h=h.split(", "),i=h[h.length-2]),e.style.opacity=1,e.style[g]=this.translate(0,f,i),this.fixDisplay(e,"block"),e.style[l]=m*c+"ms",e.style[k]=j+"ms",e.style[g]=this.translate(0,0,i);b.last().on(this.whichTransitionEvent(),this.proxy(this.onAnimationEnd)),this.vars.animTimer=window.setTimeout(this.proxy(this.onAnimationEnd),j)},onAnimationEnd:function(){if(!this.vars.target)return;var a=this.vars.visible,b=this.vars.props.transform,c=this.vars.props.tDuration,d=this.vars.props.tDelay;window.clearTimeout(this.vars.animTimer),this.vars.target.removeClass("lithium-preload"),a.css(b,""),a.css(d,""),a.css(c,""),a.css("opacity",""),a.last().off(this.whichTransitionEvent()),this.setTimeout(function(){this.vars.loading=!1,this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE)},0)},findRightColumn:function(){var a=this.vars.items,b,c,d;for(b=0,c=a.length;b<c;b++)d=$(a[b]),d.find(".filter").get(0)&&d.offset().left+d.width()*2>this.vars.winWidth?d.addClass("col-right"):d.hasClass("col-right")&&d.removeClass("col-right")},clearFilter:function(a){var b,c,d,e,f,g,h,i=$(a.target),j,k="filter-hidden",l=i.closest("li, form");if(/scrollable/.test(i.attr("class")))return;if(!l.length||i.hasClass("large-view-close")||l.hasClass(k))this.vars.filters.length&&(this.vars.triggered=!0,e=this.vars.filters.eq(0),e.is(":radio")?e.trigger("click"):e.is("select")&&e.parent().find("li").first().trigger("click")),b=this.vars.grid,c=this.vars.list,d=this.vars.activeFilter||"",f=this.vars.activeEnlarge,this.addRippleEffect(),b.hasClass(d)?(b.removeClass("filter-active"),f||b.removeClass(d),this.vars.support.pointerevents||(j=this.vars.items.filter("."+k+"[data-type*='"+this.deItemizeType(d)+"']"),j.length?j.removeClass(k):this.vars.items.filter("."+k).removeClass(k))):this.vars.support.pointerevents||this.vars.items.filter("."+k).removeClass(k),b.removeClass("enlarge-active"),c.css(this.vars.props.transform,""),f?(h=f.find(".large-view"),h.remove(),this.vars.support.transitions?(g=this.whichTransitionEvent(),f.on(g,this.proxy(function(a){a.target===a.currentTarget&&(f.off(g),this.vars.activeEnlarge=null)}))):this.vars.activeEnlarge=null,f.removeClass("enlarge-item"),f.removeClass("enlarge-load"),this.vars.oldTransform=null,this.publish("track",{type:"event",category:"Content Box",action:"Expanded",label:"Close Box",value:f.data("id")})):this.vars.activeFilter=null,this.vars.total.length&&this.updateFilterCount()},deItemizeType:function(a){return a.replace("item-","")},sanitizeType:function(a){var b=window.parseFloat(a);return isNaN(b)?a:"item-"+a},onFilter:function(a){var b=$(a.target).closest("li"),c=this.sanitizeType(b.data("type")),d=b.data("pretty");this.vars.filters.length&&(this.vars.triggered=!0,this.vars.filters.filter('[value="'+c+'"]').click()),this.filterItems(c),this.publish("track",{type:"event",category:"Content Box",action:d,label:"View All"+d,value:b.data("id")})},onFormFilter:function(a,b){var c=$(a.target),d=this.vars.form,e=c.children("[value='"+c.val()+"']"),f=this.sanitizeType(c.val())||"all";(!this.vars.triggered||b)&&this.filterItems(f,b),this.vars.triggered=!1,e.length||(e=c.closest("label")),this.publish("track",{type:"event",category:(d.hasClass("work")?"Work":"News")+" Filter",action:e.text(),label:"Click",value:1})},applyPointerEventsFix:function(a){var b;a=a||this.vars.activeFilter,a!=="all"&&(b=this.vars.items.not("[data-type*='"+this.deItemizeType(a)+"']"),b.addClass("filter-hidden"))},filterItems:function(a,b){var c=this.vars.grid,d=this.vars.support.pointerevents,e=this.vars.activeFilter||"",f,g,h;this.addRippleEffect(null,a),b||a&&!c.hasClass(a)?(c.removeClass(e),c.addClass("filter-active").addClass(a),this.vars.activeFilter=a,d||this.applyPointerEventsFix(a)):a&&(c.removeClass("filter-active"),c.removeClass(a),d||$(".filter-hidden").removeClass("filter-hidden")),b||this.filterConstants(null,a)},filterConstants:function(a,b){var c=this.vars.grid,d=this.vars.checks,e,f,g,h;for(f=0,g=d.length;f<g;f++)h=$(d[f]),e=h.attr("name"),b||this.addRippleEffect(null,e),h.is(":checked")?(c.addClass(e),this.publish("track",{type:"event",category:"Filter",action:$("label[for='"+h.attr("id")+"']").text(),label:"Click",value:1})):c.hasClass(e)&&c.removeClass(e);this.vars.total.length&&this.updateFilterCount(),this.vars.page<2&&this.scrollToVisible(b)},getFilterCount:function(){var a=$.Deferred(),b=this.vars.form.serialize(),c;return this.vars.cache=this.vars.cache||{},c=this.vars.cache[b],c?a.resolveWith(this,[c,b]):($.getJSON(this.vars.api.count,b).then(this.proxy(function(c){return this.vars.cache[b]=c,a.resolveWith(this,[c,b])})),a.promise())},getFilteredItems:function(a,b){var c=this.vars.checks,d=this.deItemizeType(b||this.vars.activeFilter||"all"),e,f;a=a||this.vars.items,d!=="all"&&(a=a.filter("[data-type*='"+d+"']"));for(e=0,f=c.length;e<f;e++)c[e].checked&&(a=a.filter("[data-type*='"+c[e].name+"']"));return a},updateFilterCount:function(){var b=this.vars.counter,c=this.vars.total,d=this.deItemizeType(this.vars.activeFilter||"all"),e,f,g=this.vars.ticker;d==="all"?b.removeClass("visible"):(e=this.getFilteredItems(this.vars.items),f=e.length,b.addClass("visible")),this.getFilterCount().then(function(b,d){this.vars.type==="work"&&this.publish(a.FILTER,[b,d]),e&&this.tickerText(g,{count:window.parseFloat(g.text()||0)},{count:f}),this.tickerText(c,{count:window.parseFloat(c.text()||0)},{count:b.filtered_count})})},tickerText:function(a,b,c){var d=ff0000.SYS.ANIMATION_DURATION;$(b).stop().animate(c,{duration:Math.min(Math.abs(b.count-c.count)*50,d),step:function(){a.text(Math.round(this.count))},easing:"linear",complete:function(){a.text(this.count)}})},findScrollArea:function(a){return a.closest(".scrollable")},onEnlarge:function(a){var b=$(a.currentTarget),c=$(a.target).closest("li"),d=c.data("pretty"),e=c.data("id"),f=c.data("type"),g=this.vars.grid,h=this.checkRetina(),i,j;if(e&&f){if(this.vars.isLoading)return;this.startPreloader(b),this.addRippleEffect(),g.hasClass("enlarge-active")||g.addClass("enlarge-active"),c.hasClass("enlarge-load")||c.addClass("enlarge-load"),$.getJSON(this.vars.api.detail,$.param({id:e,type:f})).then(this.proxy(function(a){i=a.image.large||a.image,j=h?i.retina_url:i.regular_url,this.getExternal(j).then(this.proxy(function(b){this.stopPreloader(),this.showLargeView($.extend(a,{el:c,url:j,type:f}))}))}))}else this.showLargeView({el:c,type:f,video_url:c.data("video")});this.vars.support.pointerevents||this.vars.items.not(c).addClass("filter-hidden"),this.publish("track",{type:"event",category:"Content Box",action:d,label:"Expand "+d,value:"Clicks"})},onLaunch:function(a){this.publish("track",{type:"event",category:"Content Box",action:"Expanded",label:"View Work",value:a.target.href})},checkForMobile:function(){var a="(max-width: 1024px)",b="(max-height: 768px)";return this.vars.isMobile=window.matchMedia(a).matches||window.matchMedia(b).matches,this.vars.isMobile},showLargeView:function(a){this.getTemplate("largeview").then(function(){var b=ich.largeview(a),c=a.el.append(b),d=c.find(".large-view-wrap");this.vars.activeEnlarge=c;switch(a.type){case"instagram":b="itemimagelarge";break;case"work":case"news":b="itemworklarge";break;case"video":b="itemvideolarge",a=this.fixVideoURL(a)}this.getTemplate(b).then(function(){d.append(ich[b](a)),this.calculateLargeViewOffset(c,d)})})},translate:function(a,b,c){if(this.vars.support.css3d)return"translate3d("+a+"px, "+b+"px, "+(c||0)+"px)";if(this.vars.support.transforms)return"translate("+a+"px, "+b+"px)"},calculateLargeViewOffset:function(a,b){if(!this.vars.activeEnlarge)return;a=a||this.vars.activeEnlarge,b=b||a.find(".large-view-wrap");var c=this.vars.main,d=this.vars.grid,e=this.vars.list,f,g=12,h=this.checkForMobile(),i=this.vars.props.transform,j=a.find(".large-view-close"),k=Math.abs(window.parseFloat(j.css("right"))),l=this.vars.winWidth,m=this.vars.winHeight,n=a.offset(),o=c.offset(),p=a.outerWidth(),q=a.outerHeight(),r=(b.outerWidth()-p)/2,s=(b.outerHeight()-q)/2,t=n.left-r-g,u=a.position().top+(d.offset().top-o.top)-s-g,v=n.left+p+k+r+g,w=n.top+q+s+g;f=this.vars.oldTransform||{x:0,y:0},h?f.y+=m/2-(n.top+(q-o.top)/2):u<0?f.y+=Math.abs(u):w>m&&(f.y+=m-w),h?f.x+=l/2-(n.left+p/2):t<0?f.x+=Math.abs(t):v>l&&(f.x+=l-v),a.hasClass("enlarge-item")||a.addClass("enlarge-item");if(!f.x&&!f.y)return;this.vars.oldTransform=f,e.css(i,this.translate(f.x,f.y))},setupIcons:function(a){var b,c,d,e,f,g,h,i;this.getTemplate("itemoptions").then(function(){for(b=0,c=a.length;b<c;b++)d=$(a[b]),e=d.find("[data-picture]"),f=d.data("pretty"),h=this.vars.type==="all",e.length||(e=d.children("figure")),g={more:h,view:h&&f?"View All "+f:null},$.extend(g,{launch:d.data("external"),details:d.data("internal")}),i=ich.itemoptions(g),i.children().children().length&&e.append(i)})},scrollToVisible:function(a){a=this.deItemizeType(a||this.vars.activeFilter||"all");var b=this.getFilteredItems(null,a),c=this.findScrollArea(b),d=b[0]?Math.max(b[0].offsetTop-25):null;d!==null?this.publish(ff0000.module.Scrollbar.SCROLL_TO,d):!this.vars.maxReached&&a!=="all"&&(this.startPreloader(this.vars.total.parent()),this.loadUntilFirstVisible(a))},loadUntilFirstVisible:function(a){var b,c,d,e,f,g,h,i=this.vars.checks.filter(":checked");this.getFilterCount().then(function(m){if(m.filtered_count===0){this.stopPreloader(),this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE);return}this.loadFeed().then(function(m){for(b=0,c=m.object_list.length;b<c;b++){f=m.object_list[b],g=f.n_type||f.type;if(~!a.indexOf(g)){if(!i.length){h=f;break}for(d=0,e=i.length;d<e;d++)f[i[d].name]===!0?h=f:h=!1;if(h)break}}h?(this.stopPreloader(),this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE),this.scrollToVisible(a),this.updateFilterCount()):m.next_page_url?this.loadUntilFirstVisible(a):(this.vars.maxReached=!0,this.stopPreloader(),this.publish(ff0000.module.Scrollbar.SCROLL_UPDATE))})})},loadFeed:function(){var a=$.Deferred();return this.vars.loading=!0,$.getJSON(this.vars.api.master,$.param({page:++this.vars.page})).then(this.proxy(function(b){this.parseData(b).then(function(){return a.resolveWith(this,[b])})})),a.promise()},highlightRed:function(a){return a.replace("RED","<strong>RED</strong>")},buildType:function(a,b,c,d){var e=this.checkRetina(),f,g;d=d||"square",a.image&&a.image[d]&&(a=$.extend(a,{url:e?a.image[d].retina_url:a.image[d].regular_url})),f=ich["item"+b](a),g=f.find("aside"),g.children().children().length||g.remove(),a.type==="fun"&&f.find("figcaption").html(this.highlightRed(a.text)),this.vars.newItems=this.vars.newItems||$(),this.vars.newItems=this.vars.newItems.add(f)},buildText:function(a,b){this.vars.alt=this.vars.alt||0,a=$.extend(a,{alt:"alt-"+this.vars.alt++,launch:a.type==="tweet"?this.vars.twitter:null}),this.vars.alt===3&&(this.vars.alt=0),this.buildType(a,"text",b)},buildImage:function(a,b){this.buildType(a,"image",b)},buildNews:function(a,b){this.buildType(a,"news",b)},buildWork:function(a,b){var c=a.areas_of_focus.join(" ");a.featured&&(c+=" featured"),a.has_awards&&(c+=" has_awards"),$.extend(a,{type:c}),this.buildType(a,"work",b,"thumb")},parseData:function(a){var b=$.Deferred(),c=this.vars.type==="all";return $.when(this.getTemplate("itemimage"),this.getTemplate("itemtext"),this.getTemplate("itemnews"),this.getTemplate("itemwork")).then(this.proxy(function(){var d,e,f,g=a.object_list;a.next_page_url||(this.vars.maxReached=!0);for(d=0,e=g.length;d<e;d++){f=g[d],$.extend(f,{view:c&&f.pretty_type?"View All "+f.pretty_type:null,more:c}),this.vars.type!=="all"&&$.extend(f,{launch:f.external_link,details:f.internal_link}),f.n_type&&(f.type=f.n_type);switch(this.vars.type){case"all":switch(f.type){case"instagram":case"news":case"work":case"video":this.buildImage(f);break;case"fun":case"tweet":this.buildText(f)}break;case"news":this.buildNews(f);break;case"work":this.buildWork(f)}}if(!this.vars.newItems)return;return this.vars.list.append(this.vars.newItems),this.vars.masonry&&this.vars.list.masonry("reload"),this.animateItems(this.vars.newItems),this.vars.newItems=null,this.vars.items=this.vars.list.children(),this.vars.support.pointerevents||this.applyPointerEventsFix(),b.resolveWith(this)})),b.promise()},onResize:function(){this.setWindowDimensions(),this.calculateLargeViewOffset()},onScroll:function(a,b){if(this.vars.ios||this.vars.loading)return;if(this.vars.maxReached)return this.removeNavigation(),this.unsubscribe(ff0000.module.Scrollbar.SCROLL,this.onScroll);var c=Math.abs(b.y),d=b.scrollMax;d-c<=10&&(this.publish("track",{type:"event",category:"Content Box",action:"Scroll",label:"Auto Load "+this.vars.page,value:1}),this.loadFeed().then(function(){this.vars.total.length&&this.updateFilterCount()}))},onNav:function(a){var b=a.target.href;window.location.href=b},onItemTap:function(a){var b=$(a.currentTarget);b.toggleClass("touch-active"),b.siblings().removeClass("touch-active")},destroy:function(){this.vars.grid&&(this.vars.grid.off("tap",".filter",this.onFilter),this.vars.grid.off("tap",".embiggen",this.onEnlarge)),this.vars.doc&&this.vars.doc.off("tap",this.clearFilter),this.vars.filters&&this.vars.filters.off("change",this.onFormFilter),this.vars.checks&&this.vars.checks.off("change",this.filterConstants),this.vars.win&&this.vars.win.off("smartresize",this.onResize),this.sup()}},a)}.call(ff0000);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.scrollbar=ff0000.module.scrollbar||{},ff0000.module.Scrollbar=function(){var a={SCROLL_READY:"module/scrollbar/scrollready",SCROLL:"module/scrollbar/scroll",SCROLL_UPDATE:"module/scrollbar/scrollupdate",SCROLL_TO:"module/scrollbar/scrollto"};return ff0000.Module.extend({namespace:"ff0000/module/scrollbar",vars:{namespace:"scrollable",target:null},init:function(){if(!this.vars.target)return;this.vars.ios?(this.vars.target.addClass(this.vars.namespace+"-touch-enabled"),this.setupScrollerEvents()):(this.wrapTSBScrollArea(),this.appendTSBScrollbar(),this.setupTSBEvents()),this.vars.duration=ff0000.SYS.ANIMATION_DURATION,this.subscribe(a.SCROLL_UPDATE,this.proxy(this.onScroll)),$(window).on("smartresize",this.proxy(this.onResize))},setupTSBEvents:function(){this.vars.target.tinyscrollbar({axis:"y",autohide:!0}),this.vars.target.on("tinyscrollbar_scroll",$.debounce(this.proxy(this.onScroll),150)),$(document).on("keydown",this.proxy(this.onKeyDown)),this.subscribe(a.SCROLL_TO,this.proxy(this.scrollTo)),this.publish(a.SCROLL_READY)},appendTSBScrollbar:function(){var a=this.vars.namespace,b='<div class="%NS%scrollbar"><div class="%NS%track"><div class="%NS%thumb">';b+='<div class="%NS%end"></div></div></div><div class="%NS%bounds"></div></div>',this.vars.target.append(b.replace(/%NS%/g,a+"-"))},wrapTSBScrollArea:function(){var a=this.vars.namespace,b=this.vars.target,c=$("<div></div>").addClass(a+"-view").addClass(a+"-zero"),d=$("<div></div>").addClass(a+"-area");d.append(b.children()),c.append(d),this.vars.positionTarget=d,b.append(c),b.addClass(a+"-active")},setupScrollerEvents:function(){this.vars.scroller=new red.module.Scroller({target:this.vars.target,scrollingX:!1}),this.vars.positionTarget=this.vars.target.children(),this.vars.scroller.bind("touchinertia",$.debounce(this.proxy(this.onScroll),250)),this.subscribe(a.SCROLL_TO,this.proxy(this.scrollTo)),this.publish(a.SCROLL_READY)},getChildrenHeight:function(){var a=this.vars.positionTarget.children(),b=0,c,d,e;for(c=0,d=a.length;c<d;c++)b+=$(a[c]).outerHeight(!0);return b},update:function(){this.vars.ios?this.vars.scroller.update():this.vars.target.tinyscrollbar_update(),this.vars.scrollMax=this.getChildrenHeight()-this.vars.target.height()},scrollTo:function(a,b){b=Math.max(Math.min(b,this.vars.scrollMax),0);if(isNaN(b))return;this.vars.ios?this.vars.scroller.scrollTo(0,b,this.vars.duration):this.vars.target.tinyscrollbar_scrollTo(b)},onKeyDown:function(b){var c=this.vars.prevPos,d=500;switch(b.which){case 32:$.publish(a.SCROLL_TO,[c+d]);break;case 38:$.publish(a.SCROLL_TO,[c-d]);break;case 40:$.publish(a.SCROLL_TO,[c+d])}},onResize:function(){if(!this.vars.target)return;this.update(),this.onScroll()},onScroll:function(){this.update();var b=this.vars.target,c=b.offset(),d=this.getBoundingClientRect(this.vars.positionTarget);this.publish(a.SCROLL,{scope:this,el:this.vars.target,x:d.left-c.left,y:d.top-c.top,scrollMax:this.vars.scrollMax})},destroy:function(){this.vars.scroller&&(this.vars.ios?this.vars.scroller.unbind("touchinertia"):this.vars.target.off("tinyscrollbar_scroll"),this.vars.scroller=null),$(document).off("keydown",this.onKeyDown),$(window).off("smartresize"),this.sup()}},a)}.call(ff0000);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.Transition=function(){return ff0000.Module.extend({namespace:"ff0000/module/transition",vars:{target:null},init:function(a){this.sup(),this.setDOMReferences(),this.setupTransition()},setDOMReferences:function(){if(!this.vars.target)throw"You must define a target";this.vars.target=this.vars.target[0]?this.vars.target:$(this.vars.target)},buildTransitionShell:function(){},setupTransition:function(){this.buildTransitionShell()},listenForTransitionEnd:function(){var a=this.whichTransitionEvent(),b=this.whichAnimationEvent();this.vars.parent.on(b,this.proxy(function(c){c.currentTarget===c.target&&(this.vars.parent.off(a),this.vars.parent.off(b),this.trigger("transitionend",{type:"transitionend"}),this.vars.destroy&&this.destroy())}))},startTransition:function(){},start:function(a){this.trigger("transitionstart",{type:"transitionstart"}),this.listenForTransitionEnd(),this.startTransition()},destroy:function(){this.sup()}})}.call(ff0000);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.transition=ff0000.module.transition||{},ff0000.module.transition.Slide=function(){return ff0000.module.Transition.extend({namespace:"ff0000/module/transition/slide",vars:{target:null,namespace:"transition slide-transition",destroy:!1},init:function(){this.sup()},findScopedTargets:function(a){var b=["h1",".content *",".callout *",".lithium-filter",".lithium-filter fieldset","header","footer"].join(",");return a=a.find(b).filter(":visible"),a=a.not("strong, b, em, i, a, span"),a},findParallaxTargets:function(){var a=$(window),b=a.width(),c=a.height(),d=ff0000.SYS.ANIMATION_DURATION,e=this.vars.props.aDuration,f=this.vars.target,g=this.findScopedTargets(f),h,i,j,k,l,m,n=$();for(i=0,j=g.length;i<j;i++)k=g[i],l=this.getBoundingClientRect(k),l.top>=0&&l.bottom<=c&&(n=n.add(k));m=n.last(),h=d*.65/n.length;for(i=0,j=n.length;i<j;i++)k=n[i],k.style[e]=d+i*h+"ms";this.vars.inTargets=n,m.length?this.vars.parent=m:this.vars.parent=this.vars.target},buildTransitionShell:function(){this.findParallaxTargets()},startTransition:function(){var a=this.vars.target,b=this.vars.namespace,c=this.vars.mode,d=this.vars.inTargets;d.addClass("transition parallax-in-"+c),a.addClass(b+"-in-"+c),a.siblings().addClass(b+"-out-"+c),this.sup()},start:function(){if(!this.vars.target)return!1;this.sup()},destroy:function(){var a=this.vars.target,b=this.vars.namespace,c=this.vars.mode;this.vars.inTargets&&(this.vars.inTargets.css(this.vars.props.aDuration,""),this.vars.inTargets.removeClass("transition parallax-in-"+this.vars.mode)),a.removeClass(b+"-in-"+c),a.siblings().removeClass(b+"-out-"+c),this.sup()}})}.call(ff0000.module.transition);var ff0000=ff0000||{};ff0000.module=ff0000.module||{},ff0000.module.transition=ff0000.module.transition||{},ff0000.module.transition.Section=function(){return ff0000.module.transition.Slide.extend({namespace:"ff0000/module/transition/section",vars:{response:null,target:null,mode:"up"},init:function(){this.sup()},buildTransitionShell:function(){var a=this.buildResponse(this.vars.target);a.insertBefore(this.vars.outgoing),this.vars.target=a,this.sup()},buildResponse:function(a){var b=$("<div></div>").attr({id:"container","data-transitional":"section-content"});return b.addClass(document.body.className),b.append($("header[role='banner']").last().clone(!0)),b.append(a),b},startTransition:function(){this.sup()},destroy:function(){this.vars.outgoing&&this.vars.outgoing.remove(),this.sup(),this.publish(ff0000.module.History.SECTION_TRANSITION_COMPLETE,[this.vars.content])}})}.call(ff0000.module.transition);